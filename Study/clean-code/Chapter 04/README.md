# 4장 | 주석
> 나쁜 코드에 주석을 달지 마라. 새로 짜라. 주석은 기껏해야 필요악이다.

- 우리는 코드로 의도를 표현하지 못해 주석을 사용한다. 주석은 언제나 실패를 의미한다.

- 주석은 오래될수록 코드에서 멀어진다.

- 부정확한 주석은 아예 없는 주석보다 훨씬 더 나쁘다. 진실은 한곳에만 존재한다. 바로 코드다.

→  그러므로 우리는 주석을 가능한 줄이도록 꾸준히 노력해야 한다.

##

### 📃 주석은 나쁜 코드를 보완하지 못한다.

> 코드에 주석을 추가하는 일반적인 이유는 코드 품질이 나쁘기 때문이다.

표현력이 풍부하고 깔끔하며 주석이 거의 없는 코드가, 복잡하고 어수선하며 주석이 많이 달린 코드보다 훨씬 좋다.

##

### 📃 코드로 의도를 표현하라!

> 많은 경우 주석으로 달려는 설명을 함수로 표현할 수 있다.

나쁜 예)

```java
// 직원에게 복지 혜택을 받을 자격이 있는지 검사한다.
if ((employee.flags & HOURLY_FLAG) && (employee.age > 65))
```

좋은 예)

```java
if (employee.isEligibleForFullBenefits())
```

## 

### 📃 좋은 주석

> 정말로 좋은 주석은, 주석을 달지 않을 방법을 찾아낸 주석이다.

- 법적인 주석  
  ex) 저작권 정보, 소유권 정보 등 법적 정보 (소스 파일 첫 머리에 들어가는 주석)

- 정보를 제공하는 주석  
  ex) 정규 표현식의 의미 → 시각과 날짜를 변환하는 클래스를 만들어 코드를 옮겨주면 더 깔끔하다.

- 함수 구현 의도를 설명하는 주석  
  ex) `return 1; // 정렬 순위가 더 높다`

- 의미를 명료하게 밝히는 주석  
  ex) `assertTrue(a.compareTo(a) == 0); // a == a`

- 결과를 경고하는 주석  
  ex) 실행할 때 주의해야 하는 테스트케이스 → `@Ignore` 속성을 이용해 테스트 케이스를 끌 수 있다.

- TODO 주석  
  ex) 당장 구현이 어려운 업무, 문제를 봐달라는 요청, 더 좋은 이름을 떠올려달라 부탁 → 주기적으로 없앤다.

- 중요성을 강조하는 주석  
  ex) 자칫 대수롭지 않다고 여겨질 뭔가의 중요성을 강조하기 위해서

- 공개 API에서 Javadocs  
  ex) 설명이 잘 된 공개 API를 작성 → 표준 자바 라이브러리에서 사용한 Javadocs가 좋은 예다.

##

### 📃 나쁜 주석

> 대다수 주석이 이 범주다. 대부분 허술한 코드를 지탱하거나, 엉성한 코드를 변명하거나, 주절 거리는 독백이다.

있으나 마나 한 주석을 달려는 유혹에서 벗어나 코드를 정리하라. 더 낫고, 행복한 프로그래머가 되는 지름길이다.

- 주절거리는 주석  
  ex) 이해가 안 되어 다른 모듈까지 뒤져야 하는 주석은 바이트만 낭비할 뿐이다.

- 같은 이야기를 중복하는 주석  
  ex) 코드보다 더 많은 정보를 제공하지 못 하는 주석은 쓸데 없다.

- 오해할 여지가 있는 주석  
  ex) 코드보다 읽기 어려운 주석에 담긴 잘못된 정보를 프로그래머가 오도할 수 있다.

- 의무적으로 다는 주석  
  ex) 이런 주석은 코드를 복잡하게 만들며, 거짓말을 퍼뜨리고, 혼동과 무질서를 초래한다.

- 이력을 기록하는 주석  
  ex) 소스 코드 관리 시스템이 있으니 완전히 제거하는 것이 좋다.

- 있으나 마나 한 주석  
  ex) 너무나 당연한 사실을 언급하며 새로운 정보를 제공하지 못하는 주석이다.

- 무서운 잡음  
  ex) Javadocs도 문서를 제공해야 한다는 잘못된 욕심으로 잡음을 탄생시킨다.

- 함수나 변수로 표현할 수 있다면 주석을 달지 마라  
  ex) 주석이 필요하지 않도록 코드를 개선하는 편이 더 좋다.

- 위치를 표시하는 주석  
  ex) 가독성만 낮춘다. 반드시 필요할 때만, 아주 드물게 사용하는 편이 좋다.

- 닫는 괄호에 다는 주석  
  ex) 작고 캡슐화된 함수에는 잡음일 뿐이다. 닫는 괄호에 주석을 다는 대신 함수를 줄이려 시도하자.

- 공로를 돌리거나 저자를 표시하는 주석  
  ex) 이와 같은 정보는 소스 코드 관리 시스템에 저장하는 편이 좋다.

- 주석으로 처리한 코드  
  ex) 소스 코드 관리 시스템이 우리를 대신해 코드를 기억해준다. 주석 처리할 필요가 없으니 그냥 삭제하라.

- HTML 주석  
  ex) 주석에 HTML 태그를 삽입해야 하는 책임은 프로그래머가 아니라 도구가 져야 한다.

- 전역 정보  
  ex) 코드 일부에 주석을 달면서 시스템의 전반적인 정보를 기술하지 마라.

- 너무 많은 정보  
  ex) 주석에 흥미로운 역사나 관련 없는 정보를 장황하게 늘어놓지 마라.

- 모호한 관계  
  ex) 주석과 코드는 둘 사이 관계가 명백해야 한다. 주석 자체가 다시 설명을 요구하면 안 된다.

- 함수 헤더  
  ex) 짧은 함수는 설명이 필요 없다. 짧고 한 가지만 수행하며 이름을 잘 붙인 함수가 헤더 주석 함수보다 좋다.

- 비공개 코드에서 Javadocs  
  ex) 공개하지 않을 코드라면 Javadocs는 쓸모가 없다.